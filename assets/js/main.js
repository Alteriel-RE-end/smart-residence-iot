import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
import { signOut, getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { app } from './firebase-config.js';

const db = getDatabase(app);
const auth = getAuth(app);

// 1. Fungsi Render Navbar Otomatis
export function initNavbar(activePage) {
    const navbarHTML = `
    <nav class="bg-white shadow-sm border-b border-slate-200 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <!-- LOGO SVG CUSTOM -->
                    <a href="index.html" class="flex items-center hover:opacity-90 transition-opacity">
                        <svg class="h-10 w-auto" viewBox="0 0 2190 354" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M413.354 330.74C413.354 333.646 412.622 336.404 411.157 339.017C409.692 341.604 407.409 343.704 404.309 345.315C401.232 346.927 397.253 347.732 392.37 347.732C389.929 347.732 387.78 347.623 385.925 347.403C384.094 347.183 382.385 346.829 380.798 346.341C379.211 345.828 377.563 345.169 375.854 344.363V331.473C378.759 332.938 381.689 334.061 384.643 334.842C387.597 335.599 390.271 335.977 392.663 335.977C394.104 335.977 395.275 335.806 396.179 335.464C397.106 335.123 397.79 334.659 398.229 334.073C398.669 333.462 398.889 332.767 398.889 331.985C398.889 331.058 398.559 330.276 397.9 329.642C397.265 328.982 396.24 328.299 394.824 327.591C393.408 326.883 391.54 326.004 389.221 324.954C387.243 324.026 385.449 323.074 383.837 322.098C382.25 321.121 380.883 320.01 379.736 318.765C378.613 317.496 377.746 316.019 377.136 314.334C376.525 312.649 376.22 310.66 376.22 308.365C376.22 304.922 377.062 302.042 378.747 299.722C380.456 297.378 382.824 295.621 385.852 294.449C388.903 293.277 392.419 292.691 396.398 292.691C399.89 292.691 403.027 293.082 405.81 293.863C408.618 294.644 411.132 295.535 413.354 296.536L408.923 307.706C406.628 306.656 404.37 305.826 402.148 305.215C399.926 304.581 397.863 304.263 395.959 304.263C394.714 304.263 393.688 304.422 392.883 304.739C392.102 305.032 391.516 305.435 391.125 305.948C390.759 306.46 390.576 307.046 390.576 307.706C390.576 308.536 390.893 309.28 391.528 309.939C392.187 310.599 393.273 311.319 394.787 312.1C396.325 312.857 398.413 313.846 401.049 315.066C403.662 316.238 405.883 317.508 407.714 318.875C409.545 320.218 410.937 321.841 411.889 323.746C412.866 325.625 413.354 327.957 413.354 330.74ZM445.708 347L434.758 308.438H434.429C434.526 309.439 434.624 310.794 434.722 312.503C434.844 314.212 434.954 316.055 435.051 318.033C435.149 320.01 435.198 321.915 435.198 323.746V347H422.38V293.46H441.643L452.812 331.473H453.105L464.055 293.46H483.354V347H470.061V323.526C470.061 321.841 470.085 320.035 470.134 318.106C470.208 316.153 470.281 314.322 470.354 312.613C470.452 310.879 470.537 309.512 470.61 308.511H470.281L459.478 347H445.708ZM528.489 347L525.853 336.966H508.458L505.748 347H489.854L507.322 293.24H526.622L544.31 347H528.489ZM522.85 325.101L520.542 316.312C520.298 315.359 519.944 314.004 519.48 312.247C519.017 310.464 518.553 308.633 518.089 306.753C517.649 304.849 517.308 303.287 517.063 302.066C516.844 303.287 516.526 304.8 516.111 306.607C515.721 308.389 515.306 310.159 514.866 311.917C514.451 313.675 514.085 315.14 513.768 316.312L511.46 325.101H522.85ZM568.424 293.46C573.282 293.46 577.323 294.058 580.545 295.254C583.768 296.426 586.185 298.184 587.796 300.528C589.432 302.872 590.25 305.789 590.25 309.28C590.25 311.453 589.884 313.431 589.151 315.213C588.419 316.995 587.369 318.594 586.002 320.01C584.659 321.402 583.048 322.623 581.168 323.672L596.769 347H580.362L569.01 327.518H565.348V347H550.882V293.46H568.424ZM568.204 304.41H565.348V316.641H568.058C570.279 316.641 572.098 316.153 573.514 315.176C574.93 314.2 575.638 312.454 575.638 309.939C575.638 308.206 575.052 306.851 573.88 305.875C572.708 304.898 570.816 304.41 568.204 304.41ZM626.01 347H611.544V305.289H598.471V293.46H639.047V305.289H626.01V347ZM713.423 347H697.09L686.506 326.529L682.222 329.092V347H667.683V293.46H682.222V316.714C682.832 315.542 683.528 314.371 684.309 313.199C685.115 312.027 685.896 310.916 686.653 309.866L697.896 293.46H713.716L696.833 317.447L713.423 347ZM751.783 347H719.996V293.46H751.783V305.069H734.461V313.492H750.501V325.101H734.461V335.208H751.783V347ZM781.024 313.309L790.252 293.46H805.926L788.312 326.089V347H773.736V326.529L756.122 293.46H771.869L781.024 313.309ZM851.665 292.764C855.034 292.764 857.939 293.277 860.38 294.302C862.822 295.303 864.702 296.756 866.02 298.66C867.338 300.54 867.998 302.823 867.998 305.508C867.998 308.609 867.094 311.294 865.288 313.565C863.505 315.811 861.186 317.801 858.33 319.534L865.617 326.456C866.472 325.137 867.229 323.672 867.888 322.061C868.547 320.425 869.06 318.716 869.426 316.934H884.294C883.513 320.547 882.304 324.039 880.668 327.408C879.057 330.752 877.336 333.536 875.505 335.757L887.224 347H868.693L865.068 343.265C863.725 344.095 862.382 344.852 861.04 345.535C859.721 346.219 858.122 346.756 856.242 347.146C854.362 347.537 851.933 347.732 848.955 347.732C844.78 347.732 841.24 347.037 838.334 345.645C835.454 344.229 833.269 342.349 831.779 340.005C830.29 337.637 829.545 335.013 829.545 332.132C829.545 330.008 829.924 328.042 830.681 326.236C831.462 324.405 832.585 322.757 834.05 321.292C835.539 319.827 837.358 318.545 839.506 317.447C838.505 316.299 837.639 315.115 836.906 313.895C836.198 312.674 835.649 311.38 835.258 310.013C834.892 308.621 834.709 307.12 834.709 305.508C834.709 303.042 835.344 300.857 836.613 298.953C837.907 297.024 839.812 295.511 842.326 294.412C844.865 293.313 847.978 292.764 851.665 292.764ZM847.307 325.32C846.623 325.833 846.049 326.395 845.585 327.005C845.146 327.615 844.816 328.262 844.597 328.946C844.401 329.629 844.304 330.35 844.304 331.106C844.304 332.645 844.853 333.902 845.952 334.878C847.075 335.855 848.527 336.343 850.31 336.343C851.701 336.343 852.922 336.16 853.972 335.794C855.021 335.428 855.827 335.013 856.389 334.549L847.307 325.32ZM851.445 302.139C850.419 302.139 849.516 302.444 848.735 303.055C847.978 303.641 847.6 304.617 847.6 305.984C847.6 307.059 847.917 308.084 848.552 309.061C849.211 310.013 849.968 310.879 850.822 311.661C852.214 310.879 853.276 309.939 854.008 308.841C854.741 307.742 855.107 306.631 855.107 305.508C855.107 304.312 854.753 303.458 854.045 302.945C853.361 302.408 852.495 302.139 851.445 302.139ZM945.376 347H913.589V293.46H945.376V305.069H928.055V313.492H944.095V325.101H928.055V335.208H945.376V347ZM1006.48 347H987.508L967.953 309.28H967.623C967.745 310.428 967.855 311.807 967.953 313.418C968.05 315.03 968.136 316.678 968.209 318.362C968.282 320.022 968.319 321.524 968.319 322.867V347H955.501V293.46H974.398L993.88 330.667H994.1C994.027 329.495 993.954 328.14 993.88 326.602C993.807 325.04 993.734 323.465 993.661 321.878C993.612 320.291 993.587 318.887 993.587 317.667V293.46H1006.48V347ZM1050.59 347H1018.8V293.46H1050.59V305.069H1033.27V313.492H1049.31V325.101H1033.27V335.208H1050.59V347ZM1078.25 293.46C1083.11 293.46 1087.15 294.058 1090.38 295.254C1093.6 296.426 1096.02 298.184 1097.63 300.528C1099.26 302.872 1100.08 305.789 1100.08 309.28C1100.08 311.453 1099.71 313.431 1098.98 315.213C1098.25 316.995 1097.2 318.594 1095.83 320.01C1094.49 321.402 1092.88 322.623 1091 323.672L1106.6 347H1090.19L1078.84 327.518H1075.18V347H1060.71V293.46H1078.25ZM1078.03 304.41H1075.18V316.641H1077.89C1080.11 316.641 1081.93 316.153 1083.34 315.176C1084.76 314.2 1085.47 312.454 1085.47 309.939C1085.47 308.206 1084.88 306.851 1083.71 305.875C1082.54 304.898 1080.65 304.41 1078.03 304.41ZM1133.72 315.652H1156.82V344.51C1154.06 345.462 1150.9 346.243 1147.34 346.854C1143.77 347.439 1140.04 347.732 1136.13 347.732C1130.98 347.732 1126.46 346.731 1122.58 344.729C1118.7 342.728 1115.67 339.688 1113.5 335.611C1111.33 331.509 1110.24 326.333 1110.24 320.083C1110.24 314.468 1111.32 309.622 1113.46 305.545C1115.61 301.443 1118.77 298.282 1122.95 296.06C1127.15 293.814 1132.29 292.691 1138.37 292.691C1141.71 292.691 1144.89 293.008 1147.89 293.643C1150.89 294.278 1153.5 295.083 1155.73 296.06L1151.15 307.413C1149.22 306.46 1147.22 305.752 1145.14 305.289C1143.07 304.8 1140.83 304.556 1138.44 304.556C1135.24 304.556 1132.67 305.276 1130.71 306.717C1128.78 308.157 1127.38 310.086 1126.5 312.503C1125.62 314.896 1125.18 317.544 1125.18 320.45C1125.18 323.77 1125.65 326.578 1126.57 328.873C1127.53 331.143 1128.91 332.876 1130.71 334.073C1132.54 335.245 1134.75 335.831 1137.34 335.831C1138.2 335.831 1139.23 335.77 1140.45 335.647C1141.7 335.525 1142.64 335.379 1143.27 335.208V326.822H1133.72V315.652ZM1187.6 313.309L1196.83 293.46H1212.51L1194.89 326.089V347H1180.32V326.529L1162.7 293.46H1178.45L1187.6 313.309ZM1239.27 347V293.46H1253.74V335.318H1274.36V347H1239.27ZM1333.77 320.157C1333.77 324.283 1333.27 328.042 1332.27 331.436C1331.3 334.805 1329.76 337.71 1327.66 340.152C1325.56 342.593 1322.86 344.473 1319.56 345.792C1316.27 347.085 1312.33 347.732 1307.74 347.732C1303.24 347.732 1299.35 347.085 1296.05 345.792C1292.78 344.473 1290.08 342.605 1287.96 340.188C1285.84 337.747 1284.26 334.83 1283.24 331.436C1282.21 328.042 1281.7 324.258 1281.7 320.083C1281.7 314.517 1282.61 309.683 1284.45 305.582C1286.3 301.456 1289.16 298.27 1293.01 296.023C1296.87 293.753 1301.8 292.618 1307.81 292.618C1313.91 292.618 1318.87 293.753 1322.68 296.023C1326.51 298.294 1329.32 301.492 1331.1 305.618C1332.88 309.744 1333.77 314.59 1333.77 320.157ZM1296.93 320.157C1296.93 323.379 1297.3 326.15 1298.03 328.47C1298.76 330.789 1299.92 332.571 1301.51 333.816C1303.1 335.062 1305.17 335.684 1307.74 335.684C1310.4 335.684 1312.51 335.062 1314.07 333.816C1315.66 332.571 1316.79 330.789 1317.48 328.47C1318.19 326.15 1318.54 323.379 1318.54 320.157C1318.54 315.323 1317.73 311.502 1316.12 308.694C1314.51 305.887 1311.74 304.483 1307.81 304.483C1305.2 304.483 1303.09 305.118 1301.47 306.387C1299.89 307.657 1298.73 309.463 1298 311.807C1297.29 314.151 1296.93 316.934 1296.93 320.157ZM1389.64 319.095C1389.64 325.32 1388.48 330.496 1386.16 334.622C1383.84 338.748 1380.57 341.849 1376.35 343.924C1372.15 345.975 1367.2 347 1361.51 347H1344.19V293.46H1362.72C1368.48 293.46 1373.37 294.449 1377.37 296.426C1381.37 298.404 1384.41 301.297 1386.49 305.105C1388.59 308.914 1389.64 313.577 1389.64 319.095ZM1374.62 319.607C1374.62 316.36 1374.18 313.675 1373.31 311.551C1372.45 309.402 1371.16 307.803 1369.42 306.753C1367.69 305.679 1365.51 305.142 1362.87 305.142H1358.66V335.135H1361.88C1366.27 335.135 1369.5 333.865 1371.55 331.326C1373.6 328.763 1374.62 324.856 1374.62 319.607ZM1421.52 315.652H1444.62V344.51C1441.87 345.462 1438.7 346.243 1435.14 346.854C1431.58 347.439 1427.84 347.732 1423.93 347.732C1418.78 347.732 1414.27 346.731 1410.38 344.729C1406.5 342.728 1403.47 339.688 1401.3 335.611C1399.13 331.509 1398.04 326.333 1398.04 320.083C1398.04 314.468 1399.12 309.622 1401.27 305.545C1403.41 301.443 1406.58 298.282 1410.75 296.06C1414.95 293.814 1420.09 292.691 1426.17 292.691C1429.51 292.691 1432.69 293.008 1435.69 293.643C1438.69 294.278 1441.3 295.083 1443.53 296.06L1438.95 307.413C1437.02 306.46 1435.02 305.752 1432.94 305.289C1430.87 304.8 1428.63 304.556 1426.24 304.556C1423.04 304.556 1420.47 305.276 1418.51 306.717C1416.58 308.157 1415.18 310.086 1414.3 312.503C1413.42 314.896 1412.98 317.544 1412.98 320.45C1412.98 323.77 1413.45 326.578 1414.38 328.873C1415.33 331.143 1416.71 332.876 1418.51 334.073C1420.34 335.245 1422.55 335.831 1425.14 335.831C1426 335.831 1427.03 335.77 1428.25 335.647C1429.5 335.525 1430.44 335.379 1431.07 335.208V326.822H1421.52V315.652ZM1456.29 347V293.46H1470.83V347H1456.29ZM1534.16 347H1515.19L1495.64 309.28H1495.31C1495.43 310.428 1495.54 311.807 1495.64 313.418C1495.73 315.03 1495.82 316.678 1495.89 318.362C1495.97 320.022 1496 321.524 1496 322.867V347H1483.19V293.46H1502.08L1521.56 330.667H1521.78C1521.71 329.495 1521.64 328.14 1521.56 326.602C1521.49 325.04 1521.42 323.465 1521.34 321.878C1521.3 320.291 1521.27 318.887 1521.27 317.667V293.46H1534.16V347ZM1567.98 315.652H1591.09V344.51C1588.33 345.462 1585.17 346.243 1581.6 346.854C1578.04 347.439 1574.3 347.732 1570.4 347.732C1565.25 347.732 1560.73 346.731 1556.85 344.729C1552.97 342.728 1549.94 339.688 1547.77 335.611C1545.59 331.509 1544.51 326.333 1544.51 320.083C1544.51 314.468 1545.58 309.622 1547.73 305.545C1549.88 301.443 1553.04 298.282 1557.21 296.06C1561.41 293.814 1566.55 292.691 1572.63 292.691C1575.98 292.691 1579.15 293.008 1582.15 293.643C1585.16 294.278 1587.77 295.083 1589.99 296.06L1585.41 307.413C1583.48 306.46 1581.48 305.752 1579.41 305.289C1577.33 304.8 1575.1 304.556 1572.7 304.556C1569.51 304.556 1566.93 305.276 1564.98 306.717C1563.05 308.157 1561.65 310.086 1560.77 312.503C1559.89 314.896 1559.45 317.544 1559.45 320.45C1559.45 323.77 1559.91 326.578 1560.84 328.873C1561.79 331.143 1563.17 332.876 1564.98 334.073C1566.81 335.245 1569.02 335.831 1571.61 335.831C1572.46 335.831 1573.5 335.77 1574.72 335.647C1575.96 335.525 1576.9 335.379 1577.54 335.208V326.822H1567.98V315.652ZM1622.98 347V293.46H1637.52V347H1622.98ZM1699.98 320.157C1699.98 324.283 1699.48 328.042 1698.48 331.436C1697.5 334.805 1695.96 337.71 1693.86 340.152C1691.76 342.593 1689.07 344.473 1685.77 345.792C1682.47 347.085 1678.53 347.732 1673.94 347.732C1669.45 347.732 1665.56 347.085 1662.26 345.792C1658.99 344.473 1656.29 342.605 1654.17 340.188C1652.04 337.747 1650.47 334.83 1649.44 331.436C1648.42 328.042 1647.9 324.258 1647.9 320.083C1647.9 314.517 1648.82 309.683 1650.65 305.582C1652.51 301.456 1655.36 298.27 1659.22 296.023C1663.08 293.753 1668.01 292.618 1674.01 292.618C1680.12 292.618 1685.07 293.753 1688.88 296.023C1692.72 298.294 1695.52 301.492 1697.31 305.618C1699.09 309.744 1699.98 314.59 1699.98 320.157ZM1663.14 320.157C1663.14 323.379 1663.5 326.15 1664.24 328.47C1664.97 330.789 1666.13 332.571 1667.72 333.816C1669.3 335.062 1671.38 335.684 1673.94 335.684C1676.6 335.684 1678.71 335.062 1680.28 333.816C1681.86 332.571 1683 330.789 1683.68 328.47C1684.39 326.15 1684.74 323.379 1684.74 320.157C1684.74 315.323 1683.94 311.502 1682.33 308.694C1680.72 305.887 1677.95 304.483 1674.01 304.483C1671.4 304.483 1669.29 305.118 1667.68 306.387C1666.09 307.657 1664.93 309.463 1664.2 311.807C1663.49 314.151 1663.14 316.934 1663.14 320.157ZM1734.02 347H1719.55V305.289H1706.48V293.46H1747.05V305.289H1734.02V347ZM1826.67 347H1807.7L1788.14 309.28H1787.81C1787.93 310.428 1788.04 311.807 1788.14 313.418C1788.24 315.03 1788.33 316.678 1788.4 318.362C1788.47 320.022 1788.51 321.524 1788.51 322.867V347H1775.69V293.46H1794.59L1814.07 330.667H1814.29C1814.22 329.495 1814.14 328.14 1814.07 326.602C1814 325.04 1813.92 323.465 1813.85 321.878C1813.8 320.291 1813.78 318.887 1813.78 317.667V293.46H1826.67V347ZM1870.78 347H1838.99V293.46H1870.78V305.069H1853.46V313.492H1869.5V325.101H1853.46V335.208H1870.78V347ZM1904.52 347H1890.06V305.289H1876.98V293.46H1917.56V305.289H1904.52V347ZM1996.97 293.46L1983.79 347H1966.69L1961.56 323.672C1961.46 323.233 1961.3 322.488 1961.08 321.438C1960.89 320.389 1960.66 319.192 1960.39 317.85C1960.14 316.507 1959.91 315.188 1959.69 313.895C1959.5 312.576 1959.35 311.465 1959.25 310.562C1959.15 311.465 1959 312.576 1958.78 313.895C1958.56 315.188 1958.31 316.507 1958.04 317.85C1957.8 319.192 1957.56 320.389 1957.31 321.438C1957.09 322.488 1956.93 323.233 1956.83 323.672L1951.67 347H1934.57L1921.31 293.46H1935.27L1941.09 320.303C1941.23 320.962 1941.43 321.902 1941.67 323.123C1941.94 324.319 1942.21 325.638 1942.48 327.078C1942.77 328.494 1943.04 329.861 1943.29 331.18C1943.53 332.498 1943.7 333.597 1943.8 334.476C1943.99 332.962 1944.25 331.241 1944.57 329.312C1944.91 327.383 1945.27 325.43 1945.67 323.453C1946.08 321.451 1946.47 319.595 1946.84 317.886C1947.2 316.177 1947.52 314.786 1947.79 313.711L1952.51 293.46H1965.92L1970.49 313.711C1970.74 314.761 1971.04 316.153 1971.41 317.886C1971.8 319.595 1972.19 321.451 1972.58 323.453C1973 325.455 1973.38 327.432 1973.72 329.385C1974.06 331.314 1974.32 333.011 1974.49 334.476C1974.63 333.255 1974.88 331.717 1975.22 329.861C1975.56 327.981 1975.9 326.163 1976.24 324.405C1976.61 322.623 1976.89 321.28 1977.09 320.376L1983.02 293.46H1996.97ZM2054.74 320.157C2054.74 324.283 2054.24 328.042 2053.24 331.436C2052.26 334.805 2050.72 337.71 2048.62 340.152C2046.53 342.593 2043.83 344.473 2040.53 345.792C2037.24 347.085 2033.29 347.732 2028.7 347.732C2024.21 347.732 2020.32 347.085 2017.02 345.792C2013.75 344.473 2011.05 342.605 2008.93 340.188C2006.8 337.747 2005.23 334.83 2004.2 331.436C2003.18 328.042 2002.67 324.258 2002.67 320.083C2002.67 314.517 2003.58 309.683 2005.41 305.582C2007.27 301.456 2010.12 298.27 2013.98 296.023C2017.84 293.753 2022.77 292.618 2028.78 292.618C2034.88 292.618 2039.84 293.753 2043.64 296.023C2047.48 298.294 2050.29 301.492 2052.07 305.618C2053.85 309.744 2054.74 314.59 2054.74 320.157ZM2017.9 320.157C2017.9 323.379 2018.27 326.15 2019 328.47C2019.73 330.789 2020.89 332.571 2022.48 333.816C2024.06 335.062 2026.14 335.684 2028.7 335.684C2031.36 335.684 2033.48 335.062 2035.04 333.816C2036.63 332.571 2037.76 330.789 2038.44 328.47C2039.15 326.15 2039.51 323.379 2039.51 320.157C2039.51 315.323 2038.7 311.502 2037.09 308.694C2035.48 305.887 2032.71 304.483 2028.78 304.483C2026.16 304.483 2024.05 305.118 2022.44 306.387C2020.85 307.657 2019.69 309.463 2018.96 311.807C2018.25 314.151 2017.9 316.934 2017.9 320.157ZM2082.7 293.46C2087.56 293.46 2091.6 294.058 2094.82 295.254C2098.04 296.426 2100.46 298.184 2102.07 300.528C2103.71 302.872 2104.53 305.789 2104.53 309.28C2104.53 311.453 2104.16 313.431 2103.43 315.213C2102.7 316.995 2101.65 318.594 2100.28 320.01C2098.94 321.402 2097.32 322.623 2095.44 323.672L2111.04 347H2094.64L2083.29 327.518H2079.62V347H2065.16V293.46H2082.7ZM2082.48 304.41H2079.62V316.641H2082.33C2084.56 316.641 2086.37 316.153 2087.79 315.176C2089.21 314.2 2089.91 312.454 2089.91 309.939C2089.91 308.206 2089.33 306.851 2088.16 305.875C2086.98 304.898 2085.09 304.41 2082.48 304.41ZM2162.41 347H2146.07L2135.49 326.529L2131.2 329.092V347H2116.67V293.46H2131.2V316.714C2131.81 315.542 2132.51 314.371 2133.29 313.199C2134.1 312.027 2134.88 310.916 2135.64 309.866L2146.88 293.46H2162.7L2145.82 317.447L2162.41 347Z" fill="url(#paint0_linear_5_95)"/>
                            <defs>
                                <linearGradient id="paint0_linear_5_95" x1="350" y1="28.0007" x2="2146.61" y2="246.615" gradientUnits="userSpaceOnUse">
                                    <stop offset="0.25" stop-color="#132032"/>
                                    <stop offset="1" stop-color="#00FFD5"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="index.html" class="${activePage === 'dashboard' ? 'bg-slate-100 text-slate-900' : 'text-slate-600 hover:bg-slate-50'} px-3 py-2 rounded-md text-sm font-medium transition">
                        Dashboard
                    </a>
                    <a href="kamar1.html" class="${activePage === 'kamar1' ? 'bg-slate-800 text-white shadow-md' : 'text-slate-600 hover:bg-slate-50'} px-3 py-2 rounded-md text-sm font-medium transition flex items-center">
                        <i class="fa-solid fa-shield-halved mr-2 ${activePage === 'kamar1' ? 'text-emerald-400' : ''}"></i> Kamar 1
                    </a>
                    <a href="villa1.html" class="${activePage === 'villa1' ? 'bg-slate-100 text-slate-900' : 'text-slate-600 hover:bg-slate-50'} px-3 py-2 rounded-md text-sm font-medium transition">
                        Villa 1
                    </a>
                    <a href="villa2.html" class="${activePage === 'villa2' ? 'bg-slate-100 text-slate-900' : 'text-slate-600 hover:bg-slate-50'} px-3 py-2 rounded-md text-sm font-medium transition">
                        Villa 2
                    </a>
                    <a href="manage.html" class="${activePage === 'manage' ? 'bg-slate-100 text-slate-900' : 'text-slate-600 hover:bg-slate-50'} px-3 py-2 rounded-md text-sm font-medium transition">
                        <i class="fa-solid fa-id-card mr-1"></i> Kartu
                    </a>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Container Global Alert (Akan diisi JS jika ada bahaya) -->
    <div id="global-alert" class="alert-hidden fixed top-0 left-0 w-full shadow-md"></div>
    `;

    // Inject ke elemen dengan ID 'navbar-container' di HTML
    const container = document.getElementById('navbar-container');
    if (container) {
        container.innerHTML = navbarHTML;
    }
}

// 2. Fungsi Format Waktu (Untuk Sumbu X Grafik)
// Mengubah timestamp menjadi "HH:MM"
export function formatTime(dateString) {
    const d = new Date(dateString);
    return `${d.getHours().toString().padStart(2, '0')}:${d.getMinutes().toString().padStart(2, '0')}`;
}

// 3. Fungsi Helper Angka (Agar ada pemisah ribuan: 1.200 Watt)
export function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}